openapi: 3.1.0
info:
  title: Backend Toko API
  version: 0.2.0
paths:
  /api/v1/auth/register:
    post:
      summary: Register
  /api/v1/auth/login:
    post:
      summary: Login
  /api/v1/auth/refresh:
    post:
      summary: Refresh access token via cookie
  /api/v1/auth/logout:
    post:
      summary: Logout and revoke refresh session
  /api/v1/auth/me:
    get:
      summary: Me
  /api/v1/auth/password/forgot:
    post:
      summary: Send password reset email
  /api/v1/auth/password/reset:
    post:
      summary: Reset password with token
  /api/v1/users/me/addresses:
    get:
      summary: List addresses
    post:
      summary: Create address
  /api/v1/users/me/addresses/{addressID}:
    patch:
      summary: Update address
    delete:
      summary: Delete address
  /api/v1/categories:
    get:
      summary: List categories
  /api/v1/brands:
    get:
      summary: List brands
  /api/v1/products:
    get:
      summary: List products
      parameters:
        - in: query
          name: q
          schema:
            type: string
        - in: query
          name: category
          schema:
            type: string
        - in: query
          name: brand
          schema:
            type: string
        - in: query
          name: minPrice
          schema:
            type: integer
        - in: query
          name: maxPrice
          schema:
            type: integer
        - in: query
          name: inStock
          schema:
            type: boolean
        - in: query
          name: sort
          schema:
            type: string
            enum:
              - price:asc
              - price:desc
              - title:asc
              - title:desc
        - in: query
          name: page
          schema:
            type: integer
        - in: query
          name: limit
          schema:
            type: integer
  /api/v1/products/{slug}:
    get:
      summary: Product detail
  /api/v1/products/{slug}/related:
    get:
      summary: Related products
components: {}
